<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/templates/template-crud.xhtml" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:jn="http://xmlns.jcp.org/jsf/composite/resources/components">
    <!--@elvariable id="form" type="com.jnunes.eponto.model.Configuracao"-->
    <ui:param name="controller" value="#{configuracaoController}" />
    <ui:define name="toolbar">
        <p:toolbarGroup id="toolbarGroup">
            <p:commandButton id="saveAction" value="#{msg['save']}" icon="bi bi-check-lg" styleClass="mr-1"
                             update="@form" process="@form" action="#{configuracaoController.saveAndKeepEditing()}"/>
            <p:menuitem/>
        </p:toolbarGroup>
    </ui:define>

    <ui:define name="editPanel">
        <c:set var="pageTitle" value="${msg['configuracao.title']}" scope="request"/>
        <c:set var="controller" value="#{configuracaoController}" scope="request"/>
        <c:set var="form" value="#{configuracaoController.editForm}" scope="request"/>

        <!-- Empresa -->
        <jn:titleLabelDivider labelKey="configuracao.divider.empresa" />
        <jn:inputTextLabel id="organizacao" labelKey="configuracao.organizacao"  required="true" value="#{form.organizacao}" />
        <jn:inputTextLabel id="endereco" labelKey="configuracao.endereco" value="#{form.endereco}" required="true"/>
        <jn:fileUploadLabelMessage id="idLogo" labelKey="configuracao.logo" listener="#{controller.handleLogoUpload}" />

        <!-- Funcionário -->
        <jn:titleLabelDivider labelKey="configuracao.divider.funcionario" styleClass="mt-4" />
        <jn:inputTextLabel id="funcionario" labelKey="configuracao.funcionario" value="#{form.funcionario}" required="true"/>
        <jn:inputTextLabel id="funcao" labelKey="configuracao.funcao" value="#{form.funcao}" required="true"/>
        <jn:inputTextLabel id="atividade" labelKey="configuracao.atividade" value="#{form.atividade}" required="true"/>
        <jn:fileUploadLabelMessage id="assinatura" labelKey="configuracao.assinatura" listener="#{controller.handleAssinaturaUpload}"
        styleClass="ui-button-secondary"/>

        <!-- Expediente -->
        <jn:titleLabelDivider labelKey="configuracao.divider.expediente" styleClass="mt-4" />
        <jn:timeLabelMessage id="inicioExpediente" label="Início Expediente" value="#{form.inicioExpediente}" required="true" />
        <jn:timeLabelMessage id="fimExpediente" label="Fim Expediente" value="#{form.fimExpediente}" required="true" />
        <jn:timeLabelMessage id="inicioIntervalo" label="Início Intervalo" value="#{form.inicioIntervalo}" required="true" />
        <jn:timeLabelMessage id="fimIntervalo" label="Fim Intervalo" value="#{form.fimIntervalo}" required="true" />

        <jn:label id="apontarFimDeSemana" labelKey="configuracao.divider.apontar.fim.desemana" >
            <p:divider  styleClass="col-12 mt-0 mb-0" type="transparent" />
            <p:selectBooleanButton onLabel="Sim" offLabel="Não" styleClass="col-12"
                value="#{form.habilitarFimDeSemana}"
                onIcon="pi pi-check" offIcon="pi pi-times" style="width:6rem" />
        </jn:label>


    </ui:define>
</ui:composition>
