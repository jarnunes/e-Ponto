<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/templates/template-crud.xhtml" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:jn="http://xmlns.jcp.org/jsf/composite/resources/components">
    <!--@elvariable id="form" type="com.jnunes.eponto.domain.Configuracao"-->
    <ui:param name="controller" value="#{configuracaoController}" />
    <ui:define name="toolbar">
        <p:toolbarGroup id="toolbarGroup">
            <p:commandButton id="saveAction" value="#{msg['save']}" icon="bi bi-check-lg" styleClass="mr-1"
                             update="@form" process="@form" action="#{configuracaoController.saveAndKeepEditing()}"/>
            <p:menuitem/>
        </p:toolbarGroup>
    </ui:define>

    <ui:define name="editPanel">
        <jn:titleLabelDivider label="Empresa" />
        <c:set var="pageTitle" value="${msg['configuracao.title']}" scope="request"/>
        <c:set var="form" value="#{configuracaoController.editForm}" scope="request"/>

        <jn:inputTextLabel id="organizacao" labelKey="configuracao.organizacao" value="#{configuracaoController.editForm.organizacao}"
            required="true"/>
        <jn:inputTextLabel id="endereco" labelKey="configuracao.endereco" value="#{form.endereco}"
            required="true"/>
        <jn:label id="group2" label="Logo">
                <div id="inputgroupdd" class="ui-inputgroup">
                    <p:fileUpload id="uploader3" mode="simple" skinSimple="true" auto="true"
                        title="my custom title" listener="#{configuracaoController.handleLogoUpload}"/>
            </div>
        </jn:label>


        <!-- Funcionário -->
        <jn:titleLabelDivider label="Funcionario" styleClass="mt-4" />
        <jn:inputTextLabel id="funcionario" labelKey="configuracao.funcionario" value="#{form.funcionario}"
            required="true"/>
        <jn:inputTextLabel id="funcao" labelKey="configuracao.funcao" value="#{form.funcao}"
            required="true"/>
        <jn:inputTextLabel id="atividade" labelKey="configuracao.atividade" value="#{form.atividade}"
            required="true"/>
        <jn:timeLabelMessage id="inicioExpediente" label="Início Expediente" value="#{form.inicioExpediente}" />

        <jn:timeLabelMessage id="fimExpediente" label="Fim Expediente" value="#{form.fimExpediente}" />

        <jn:timeLabelMessage id="inicioIntervalo" label="Início Intervalo" value="#{form.inicioIntervalo}" />
        <jn:timeLabelMessage id="fimIntervalo" label="Fim Intervalo" value="#{form.fimIntervalo}" />

        <jn:label id="group" label="Assinatura">
            <div class="ui-inputgroup">
                <p:fileUpload listener="#{configuracaoController.handleAssinaturaUpload}" mode="simple" skinSimple="true"
                              label="Carregar" auto="true" chooseIcon="pi pi-upload"
                              style="width: 100%; !important;">
                </p:fileUpload>
            </div>
        </jn:label>


        <h:outputStylesheet>
            body .ui-inputgroup > .ui-widget, body .ui-inputgroup > .ui-float-label > .ui-widget {
                border-radius: 5px;
                background: #efefef;
                border: 1px solid #ced4da;
                width: 100%;
            }

            .ui-fileupload-simple .ui-button {
                overflow: hidden;
                height: 100%;
                border-radius: 5px 0 0 5px;
            }
        </h:outputStylesheet>
    </ui:define>
</ui:composition>
