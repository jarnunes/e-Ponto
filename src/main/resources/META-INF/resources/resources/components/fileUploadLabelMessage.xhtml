<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:p="http://primefaces.org/ui"
      xmlns:jn="http://xmlns.jcp.org/jsf/composite/resources/components">
<cc:interface>
    <cc:attribute name="labelKey" />
    <cc:attribute name="label" default="#{empty cc.attrs.labelKey?'':msg[cc.attrs.labelKey]}" />
    <cc:attribute name="labelFor" default="input" />
    <cc:attribute name="styleClass" default="col-12 md:col-6 lg:col-4" />
    <cc:attribute name="listener" method-signature="void action(javax.faces.event.ActionEvent)" />
    <cc:attribute name="required" />
    <cc:attribute name="rendered" />
    <cc:attribute name="disabled" />
    <cc:attribute name="update" />
    <cc:attribute name="placeholderKey" default="Nenhum arquivo selecionado" />
    <cc:attribute name="sizeLimit" default="2000000" />
    <cc:attribute name="mode" default="advanced" />
    <cc:attribute name="dragDropSupport" default="true" />
    <cc:attribute name="gridClass"/>

</cc:interface>
<cc:implementation>
    <h:outputStylesheet>
        .upload-group span{
            margin-right: 0 !important;
            border-bottom-right-radius: 0 !important;
            border-top-right-radius: 0 !important;
            padding-bottom: 4.5px !important;
        }

        .upload-group input {
            user-select: none;
            pointer-events: none;
        }
    </h:outputStylesheet>
    <jn:label id="uploadGroup" required="#{cc.attrs.required}" labelKey="#{cc.attrs.labelKey}"
        rendered="#{cc.attrs.rendered}" gridClass="#{cc.attrs.gridClass}">
        <div class="upload-group">
            <p:fileUpload id="upload" mode="#{cc.attrs.mode}" dragDropSupport="#{cc.attrs.dragDropSupport}"
                label="#{msg['file.upload']}" auto="true" chooseIcon="pi pi-upload" process="@this"
                listener="#{cc.attrs.listener}" sizeLimit="#{cc.attrs.sizeLimit}" disabled="#{cc.attrs.disabled}"
                update="#{cc.attrs.update}"
                allowTypes="/(\.|\/)(tiff|pjp|jfif|bmp|gif|svg|png|xbm|dib|jxl|jpeg|svgz|jpg|webp|ico|tif|pjpeg|avif)$/"
                accept=".tiff,.pjp,.jfif,.bmp,.gif,.svg,.png,.xbm,.dib,.jxl,.jpeg,.svgz,.jpg,.webp,.ico,.tif,.pjpeg,.avif" />
            <p:inputText id="input" readonly="true" placeholder="#{cc.attrs.placeholderKey}" />
        </div>
    </jn:label>
</cc:implementation>
</html>