<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:p="http://primefaces.org/ui"
      xmlns:jn="http://xmlns.jcp.org/jsf/composite/resources/components">
<cc:interface>
    <cc:attribute name="labelKey" />
    <cc:attribute name="label" default="#{empty cc.attrs.labelKey?'':msg[cc.attrs.labelKey]}" />
    <cc:attribute name="id" />
    <cc:attribute name="styleClass" default="col-12 md:col-6 lg:col-4" />
    <cc:attribute name="listener" method-signature="void action(javax.faces.event.ActionEvent)" />
    <cc:attribute name="required" />
    <cc:attribute name="rendered" />
    <cc:attribute name="gridClass"/>

</cc:interface>
<cc:implementation>
    <h:outputStylesheet>
        body .ui-inputgroup > .ui-widget, body .ui-inputgroup > .ui-float-label > .ui-widget {
            border-radius: 5px;
            background: #efefef;
            border: 1px solid #ced4da;
            width: 100%;
        }

        .ui-fileupload-simple .ui-button {
            overflow: hidden;
            height: 100%;
            border-radius: 5px 0 0 5px;
        }
    </h:outputStylesheet>
    <jn:label id="#{cc.attrs.id}" required="#{cc.attrs.required}" label="#{cc.attrs.label}" labelKey="#{cc.attrs.labelKey}"
              rendered="#{cc.attrs.rendered}" gridClass="#{cc.attrs.gridClass}">
        <div class="ui-inputgroup">
            <p:fileUpload listener="#{cc.attrs.listener}" mode="simple" skinSimple="true"
                          label="#{msg['upload.label']}" auto="true" chooseIcon="pi pi-upload"
                          style="width: 100%; !important;" allowTypes="/(\.|\/)(png|jpeg|jpg)$/" accept=".png,.jpeg,.jpg">
            </p:fileUpload>
        </div>
    </jn:label>
</cc:implementation>
</html>